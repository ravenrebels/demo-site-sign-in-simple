<html>
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <style>
      #app {
        max-width: 500px;
        text-align: center;
        margin-top: 30px;
      }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div id="app" class="container-sm">
      <div
        class="alert alert-primary"
        role="alert"
        style="display: flex; flex-direction: column"
      >
        <em><span class="card-title" id="userName"></span></em>
        <div>
          <img id="userIcon" height="40" />
          <a href="/signout" class="btn btn-primary">Sign out</a>
        </div>
      </div>
      <h1>Secret video</h1>

      <video height="60%" autoplay controls>
        <source src="./Ravencoin_Identity_360.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <script type="module">
      const userIcon = document.getElementById("userIcon");
      const userName = document.getElementById("userName");

      fetch("/whoami")
        .then((response) => response.json())
        .then((data) => {
          userName.innerHTML = data.completionData.nft;
          const encodedNFT = encodeURIComponent(data.completionData.nft);
          const URL =
            "https://rebel-balance-front.herokuapp.com/thumbnail?assetName=" +
            encodedNFT;
          userIcon.setAttribute("src", URL);
        });
    </script>
  </body>
</html>
